<rich:toolBar
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:rich="http://richfaces.org/rich">

    <rich:toolBarGroup>
      <h:outputText value="#{projectName}:"/>
      <s:link id="menuHomeId" 
      	      view="/home.xhtml" 
      	      value="Home" 
      	      propagation="none"/>
    </rich:toolBarGroup>
		
    <!-- @newMenuItem@ -->
    <s:link view="/view/example/MovieList.xhtml" value="Movie List" includePageParams="false" propagation="none"/>
    <s:link view="/view/example/UserList.xhtml" value="User List" includePageParams="false" propagation="none"/>
    <!--
        <s:link view="/org/andromda/timetracker/web/timecardsearch/#{searchController.searchTimecards}.xhtml" value="#{messages['search.timecards.title']}" includePageParams="false" propagation="none"/>
        <s:link view="/org/andromda/timetracker/web/timecardsearch/#{homeController.timeTrackerHome}.xhtml" value="#{messages['time.tracker.home.title']}" includePageParams="false" propagation="none"/>
        <s:link view="/org/andromda/timetracker/web/timecardsearch/#{timecardController.timecardDetails}.xhtml" value="#{messages['timecard.details.title']}" includePageParams="false" propagation="none"/>
        -->
		
    <rich:toolBarGroup location="right">
	<ui:remove>
	    <!-- temporarily disabled for all -->
	    <s:link id="identityManagement" 
		    view="/useradmin" 
		    value="Identity Management" 
		    propagation="none" 
		    rendered="#{identity.hasRole('admin')}"/>
	</ui:remove>
	
	<h:outputText id="menuWelcomeId" 
		      value="signed in as: #{credentials.username}" 
		      rendered="#{identity.loggedIn}"/>
		
	<s:link id="menuLoginId" 
		view="/login.xhtml" 
		value="Login" 
		rendered="#{not identity.loggedIn}" 
		propagation="none"/>
		
	<s:link id="menuLogoutId" 
		view="/home.xhtml" 
		action="#{identity.logout}" 
		value="Logout" 
		rendered="#{identity.loggedIn}" 
		propagation="none"/>
		
    </rich:toolBarGroup>
</rich:toolBar>
