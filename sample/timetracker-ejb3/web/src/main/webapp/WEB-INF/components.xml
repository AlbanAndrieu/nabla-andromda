<?xml version="1.0" encoding="UTF-8"?>
<!-- Generated by config/jboss/components.xml.vsl in andromda-ejb3-cartridge. -->
<components xmlns="http://jboss.org/schema/seam/components"
	xmlns:core="http://jboss.org/schema/seam/core" xmlns:persistence="http://jboss.org/schema/seam/persistence"
	xmlns:security="http://jboss.org/schema/seam/security" xmlns:theme="http://jboss.org/schema/seam/theme"
	xmlns:cache="http://jboss.org/schema/seam/cache" xmlns:web="http://jboss.org/schema/seam/web"
	xmlns:transaction="http://jboss.org/schema/seam/transaction"
	xmlns:mail="http://jboss.org/schema/seam/mail" xmlns:drools="http://jboss.org/schema/seam/drools"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jboss.org/schema/seam/core http://jboss.org/schema/seam/core-2.3.xsd
                       http://jboss.org/schema/seam/persistence http://jboss.org/schema/seam/persistence-2.3.xsd
                       http://jboss.org/schema/seam/security http://jboss.org/schema/seam/security-2.3.xsd
                       http://jboss.org/schema/seam/theme http://jboss.org/schema/seam/theme-2.3.xsd
                       http://jboss.org/schema/seam/cache http://jboss.org/schema/seam/cache-2.3.xsd
                       http://jboss.org/schema/seam/web http://jboss.org/schema/seam/web-2.3.xsd
                       http://jboss.org/schema/seam/transaction http://jboss.org/schema/seam/transaction-2.3.xsd
                       http://jboss.org/schema/seam/mail http://jboss.org/schema/seam/mail-2.3.xsd
                       http://jboss.org/schema/seam/drools http://jboss.org/schema/seam/drools-2.3.xsd
                       http://jboss.org/schema/seam/components http://jboss.org/schema/seam/components-2.3.xsd">
          <!--
        	 debug="true" requires "jboss-seam-debug" dependency in pom, SiA-4.5.2-p154

        	 Seam managed transactions are enabled by default, but as a reminder:
        	 transaction-management-enabled="true", SiA-9.4.1-p370

        	 The ManagedEntityInterceptor (MEI) is an optional interceptor in Seam that gets  applied
        	 to conversation-scoped components when enabled. Enabling it is simple. You just set the
        	 distributable property on the org.jboss.seam.init.core component to true. More simply put,
        	 you add (or  update) the following component declaration in the component descriptor  (i.e.,
        	 components.xml), seam_reference-35.2.

        	 For cluster: distributable="true". Also uncomment the distributable tag in web.xml
          -->
	<core:init jndi-pattern="${application.jndi.pattern}" transaction-management-enabled="true" debug="${application.debug}" distributable="${application.distributable}"/>

	<!--
		In an EJB3 environment, it is recommend to use a special built-in  component  for  transaction
		management,  that  is  fully  aware  of  container  transactions,	and can correctly process
		transaction success events registered with the Events component. If you don't add this line to
		your components.xml file, Seam won't know when container-managed transactions end
		(seam_reference-30.1.5)
	-->
	<transaction:ejb-transaction />

	<core:manager concurrent-request-timeout="500"
				  conversation-timeout="120000"
				  conversation-id-parameter="cid"
				  parent-conversation-id-parameter="pid"/>

	<core:resource-loader>
		<core:bundle-names>
			<value>messages</value>
                        <!-- Add more message bundles as needed -->
			<!-- <value>mymessagebundle</value> -->
		</core:bundle-names>
	</core:resource-loader>

	<!--
		There are two rewrite options in Seam, you can choose to either use the org.tuckey
		UrlRewriteFilter or the native Seam rewriting. You should not attempt to use both.
		The native Seam rewriting does not use the org.tuckey rewrite engine at all.
		If you are going to use Seam's native rewriting, then remove the org.tuckey
		UrlRewriteFilter from web.xml and nuke the urlrewrite.xml file.

		This filter allows Seam to apply URL rewriting for views based on configuration in the
		pages.xml file. The view-mapping parameter must match the servlet mapping defined for the
		Faces Servlet in the web.xml file. If ommitted, the rewrite filter assumes the pattern *.seam.

		With Seam 2.1 or newer it is recommend to use Seam's native rewrite engine, see:
			http://docs.jboss.org/seam/latest/reference/en-US/html/configuration.html

		<web:rewrite-filter view-mapping="/seam/*" />
	 -->
	<web:rewrite-filter />

        <!-- Make sure this URL pattern is the same as that used by the Faces Servlet -->
        <web:hot-deploy-filter url-pattern="*.seam"/>

   	<!-- Force encoding of submitted and sent data -->
	<web:character-encoding-filter
		encoding="UTF-8"
		override-client="true"
		url-pattern="*.seam" />

	<!--
	<security:identity />

	<security:remember-me
		enabled="true" />

	<security:jpa-identity-store
		user-class="org.andromda.timetracker.domain.User"
		role-class="org.andromda.timetracker.domain.Role" />

	<security:jpa-permission-store
		user-permission-class="no.knowit.example.security.model.UserPermission" />
	-->
   	<!--
   	<security:jpa-identity-store
   	 entity-manager="#{entityManager}" user-class="org.andromda.timetracker.domain.User"
   	 role-class="org.andromda.timetracker.domain.Role" />
   	 -->

   	<security:identity authenticate-method="#{authenticator.authenticate}" remember-me="true" />

      	<!-- uncomment for jboss 7 -->
        <component class="org.jboss.seam.transaction.EjbSynchronizations" jndi-name="java:app/jboss-seam/EjbSynchronizations"/>
        <component class="org.jboss.seam.async.TimerServiceDispatcher" jndi-name="java:app/jboss-seam/TimerServiceDispatcher"/>
        <!--<component class="org.andromda.timetracker.domain.UserRoleDaoImpl" jndi-name="java:app/core-3.4/UserRoleDaoImpl" />-->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3ManageableEntityFacadeLogicImpl[org.andromda.timetracker.domain.User] user -->
        <!--
        <component
            class="org.andromda.timetracker.domain.User"
            jndi-name="${jndiName}"/>
        -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3ManageableEntityFacadeLogicImpl[org.andromda.timetracker.domain.Task] task -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3EntityFacadeLogicImpl[org.andromda.timetracker.domain.TimeAllocation] timeAllocation -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3EntityFacadeLogicImpl[org.andromda.timetracker.domain.Timecard] timecard -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3ManageableEntityFacadeLogicImpl[org.andromda.timetracker.domain.UserRole] userRole -->
        <!--
        <component
            class="org.andromda.timetracker.domain.UserRole"
            jndi-name="${jndiName}"/>
        -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3ManageableEntityFacadeLogicImpl[org.andromda.timetracker.domain.Movie] movie -->
        <!--
        <component
            class="org.andromda.timetracker.domain.Movie"
            jndi-name="${jndiName}"/>
        -->

   	<event type="org.jboss.seam.security.notLoggedIn">
   	   <action execute="#{redirect.captureCurrentView}"/>
   	</event>
   	<event type="org.jboss.seam.security.loginSuccessful">
   	   <action execute="#{redirect.returnToCapturedView}"/>
   	</event>

   	<mail:mail-session host="localhost" port="25"/>

   	<!-- For use with jBPM pageflow or process management -->
   	<!--
   	<bpm:jbpm>
   	   <bpm:process-definitions></bpm:process-definitions>
   	   <bpm:pageflow-definitions></bpm:pageflow-definitions>
   	</bpm:jbpm>
   	-->

   	<drools:rule-base name="securityRules">
   	  <drools:rule-files>
   	    <value>/META-INF/security.drl</value>
   	  </drools:rule-files>
   	</drools:rule-base>

   	<security:rule-based-permission-resolver security-rules="#{securityRules}" />

        <!-- service : org.andromda.cartridges.ejb3.metafacades.EJB3WebServiceFacadeLogicImpl[org.andromda.timetracker.service.UserService] -->
        <!--
        <component
            name="userService"
            class="org.andromda.timetracker.service.UserServiceBean"
            scope="STATELESS"
            jndi-name="UserServiceBean/local"/>
        -->
        <!-- service : org.andromda.cartridges.ejb3.metafacades.EJB3WebServiceFacadeLogicImpl[org.andromda.timetracker.service.TimeTrackingService] -->
        <!-- service : org.andromda.cartridges.ejb3.metafacades.EJB3WebServiceFacadeLogicImpl[org.andromda.timetracker.service.SecurityService] -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3ManageableEntityFacadeLogicImpl[org.andromda.timetracker.domain.User] -->
        <!--
        <component
            name="user"
            class="org.andromda.timetracker.domain.User"
            scope="SESSION"/>
        -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3ManageableEntityFacadeLogicImpl[org.andromda.timetracker.domain.Task] -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3EntityFacadeLogicImpl[org.andromda.timetracker.domain.TimeAllocation] -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3EntityFacadeLogicImpl[org.andromda.timetracker.domain.Timecard] -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3ManageableEntityFacadeLogicImpl[org.andromda.timetracker.domain.UserRole] -->
        <!--
        <component
            name="userRole"
            class="org.andromda.timetracker.domain.UserRole"
            scope="SESSION"/>
        -->
        <!-- entity : org.andromda.cartridges.ejb3.metafacades.EJB3ManageableEntityFacadeLogicImpl[org.andromda.timetracker.domain.Movie] -->
        <!--
        <component
            name="movie"
            class="org.andromda.timetracker.domain.Movie"
            scope="SESSION"/>
        -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.UserVO] -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.TimePeriodVO] -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.TaskVO] -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.TimecardSummaryVO] -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.TimeAllocationVO] -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.TimecardVO] -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.TimecardSearchCriteriaVO] -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.UserRoleVO] -->
    <!-- valueobject : org.andromda.cartridges.ejb3.metafacades.EJB3ValueObjectFacadeLogicImpl[org.andromda.timetracker.vo.UserDetailsVO] -->

    <!-- seam-components merge-point -->
</components>
