#set ($generatedFile = "${manageable.converterFullPath}.java")
// license-header java merge-point
// Generated by andromda-jsf cartridge (crud\EntityConverter.java.vsl) DO NOT EDIT!
package $manageable.manageablePackageName;

/**
 * Handles conversion of the entity id to a String.
 */
public class $manageable.converterClassName
    implements javax.faces.convert.Converter
{
    /**
     * @see javax.faces.convert.Converter#hash()getAsString(javax.faces.context.FacesContext, javax.faces.component.UIComponent, Object)
     */
    public String getAsString(
        javax.faces.context.FacesContext context,
        javax.faces.component.UIComponent component,
        Object value)
        throws javax.faces.convert.ConverterException
    {
        if(value == null)
            return "";

##        // ${manageable.identifiersPresent} ${manageable.identifiers}
##if(${manageable.identifiersPresent})
        final ${manageable.valueObjectClassName} vo;
        try {
            final ${manageable.fullyQualifiedIdentifierTypeName} id;
            if(value instanceof String)
                id = ${manageable.fullyQualifiedIdentifierTypeName}.valueOf((String)value);
            else
                id = (${manageable.fullyQualifiedIdentifierTypeName})value;

            vo = ${manageable.manageableServiceAccessorCall}.readById(id);
        } catch (Exception e) {
            e.printStackTrace();
            return ("Failed to locate object.");
        }
#if($manageable.displayAttribute.type.stringType)
        return vo.get$stringUtils.upperCamelCaseName($manageable.displayAttribute.name)();
#else
        return String.valueOf(vo.get$stringUtils.upperCamelCaseName($manageable.displayAttribute.name)());
#end
##else
##        return "";
##end
    }

    /**
     * @see javax.faces.convert.Converter#hash()getAsObject(javax.faces.context.FacesContext, javax.faces.component.UIComponent, String)
     */
    public Object getAsObject(
        javax.faces.context.FacesContext context,
        javax.faces.component.UIComponent component,
        String value)
        throws javax.faces.convert.ConverterException
    {
        throw new UnsupportedOperationException();
    }
}
